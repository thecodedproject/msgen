package rpc_server

// Generated by msgen. DO NOT EDIT.

import(
	"context"
	"some/service/ops"
	"some/service/state"
	"some/service/servicepb"
)

type Server struct {
	st state.State
}

func New(st state.State) *Server {
	return &Server{
		st: st,
	}
}

func (s *Server) Ping(
	ctx context.Context,
	req *servicepb.PingRequest,
) (*servicepb.PingResponse, error) {

	err := ops.Ping(
		ctx,
		s.st,
		req.Int64Value,
		req.StringValue,
	)
	if err != nil {
		return nil, err
	}

	return &servicepb.PingResponse{
	}, nil
}

func (s *Server) Pong(
	ctx context.Context,
	req *servicepb.PongRequest,
) (*servicepb.PongResponse, error) {

	int64Value, stringValue, err := ops.Pong(
		ctx,
		s.st,
	)
	if err != nil {
		return nil, err
	}

	return &servicepb.PongResponse{
		Int64Value: int64Value,
		StringValue: stringValue,
	}, nil
}

